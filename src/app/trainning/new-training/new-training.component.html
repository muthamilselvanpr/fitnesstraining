<section class='new-training' fxLayout fxLayoutAlign='center center'>
  <form (ngSubmit)='onStartTraining(f)' #f='ngForm'>
  <mat-card fxFlex.gt-xs='400px' fxFlex.xs='100%'>
    <mat-card-title fxLayoutAlign='center'>Time to start a workout!</mat-card-title>
    <mat-card-content fxLayoutAlign='center'>
      <mat-form-field *ngIf = '!(isLoading |async) && (exercises | async)' appearance="fill">
        <mat-select placeholder='Select the excercise' ngModel name='exercise' required>
          <mat-option *ngFor='let exercise of exercises | async'  value={{exercise.id}}> {{exercise.name}} </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions *ngIf = '!(isLoading |async)' fxLayoutAlign='center'>
      <button type='submit' *ngIf='exercises | async' [disabled]='f.invalid' mat-raised-button color='primary'>start</button>
      <button type='submit' *ngIf='!(exercises | async)' (click)='fetchExercises()' mat-raised-button color='primary'>Try again</button>
    </mat-card-actions>
    <ng-container *ngIf = 'isLoading | async'>
    <div fxLayoutAlign='center'>
      <mat-spinner ></mat-spinner>
    </div>
    </ng-container>
  </mat-card>
  </form>
</section>

